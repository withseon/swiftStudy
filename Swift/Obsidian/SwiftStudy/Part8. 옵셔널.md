## 옵셔널 타입의 기본 개념
---

### 옵셔널 개념 도입 배경
	변수의 메모리 공간에 값이 저장되어 있지 않은데 접근하는 경우, 에러 발생
	임시적인 타입을 담아두도록 함 = 옵셔널

### nil
	'값이 없음'을 표현하는 키워드
	실제로 값이 없는 게 아님

nil과 Null의 차이 (열거형 공부 후 다시보자)
	nil
		- 메모리에 값이 없는 게 아닌, 임시적인 타입으로. 열겨형의 타입 중 하나!
	Null
		- 메모리 공간이 있지만, 실제로 아무 값이 없는 빈 상태

### 옵셔널 타입
	1. 값이 없는 경우(nil)을 포함하는 타입
	2. 옵셔널 타입과 Non-optional 타입은 서로 다름

### 옵셔널 타입의  사용
	기본 타입 뒤에 ?(물음표)를 붙여서 사용
	상수(변수)에 nil 대입 가능
	옵셔널 선언 시 값을 대입하지 않으면 nil로 초기화 (자동 초기화)

```
var num: Int? = 3
var yourAge: Int? = nil
var yourGrade: Double? = nil
var name1: String? = "jobs"

// num = nil
name1 = nil

print(num)
// Optional(3)
print(name1)
// nil
```

	임시값이 존재하기 때문에 메모리 접근 시 에러는 안 남
	임시값의 형태를 벗겨서(Unwrapping)해서 사용해야 함
	nil을 벗기면 에러!!


참고로 다음과 같이 옵셔널 타입을 명시하지 않으면 안됨
```
var yourName = nil // 에러. 타입추론 불가
```


옵셔널 정식 문법 표기
```
let num1: Int? = 2 // 간편한 표기
let num2: Optional<Int> = 0 // 정식문법
```

옵셔널 타입끼리 연산 불가
	`임시적인 타입`이기 때문에 연산 불가

옵셔널 타입은 열거형?? - 열거형 공부 후 다시 돌아오겠음



## 옵셔널값의 추출 방법
---

```
var num: Int? = 2
```

### 1. 강제 추출
	값이 있다는 것이 확실할 때 사용
	값이 없는 경우 사용하면 에러

```
num!
```

### 2. nil 확인 후 강제 추출
	값이 없는 경우 에러나지않기 위해서 
	조건문으로 nil인지 확인하고 강제추출

```
if num != nil {
	num!
}
```

### 3. 옵셔널 바인딩
	nil이면 상수에 값을 넣을 수 없음! nil이 아니면 상수에 값을 넣을 수 있음 (바인딩 가능)
	바인딩이 가능하다면, 특정 작업을 수행하겠다는 의미

#### if let
	nil이 아닌 경우에 상수에 담을 수 있으며
	이후 중괄호 내(Scope)에서 해당 상수(변수) 사용 가능 (if 문 밖에서는 해당 상수 사용 불가)
	(if문에서 예외적으로 조건을 쓰지 않는다는 특징)
	(사실 if var - 도 있는데, 잘 사용되지 않음)

```
if let n = num {
	// num에 값이 있을 때, 특정 작업
} else { // else문은 생략 가능
	// num에 값이 없을 때, 작업
}
```

#### guard let
	nil이 아닌 경우에 상수에 담을 수 있다.
	if let과 달리, 아래에서 해당 상수(변수) 사용 가능
	함수의 input에 옵셔널타입이 들어오는 경우에 많이 사용

```
func doSomething(_ num: Int?) {
	guard let n = num else { return }
}
```

### 4. Nil-Coalescing
	연산자다.
	디폴트(기본값)을 제시할 수 있을 때 사용
	직접 값을 벗겨서 사용하는 게 아닌, 디폴트값 제시를 통해 옵셔널 가능성을 없애는 방법

```
num ?? 0 // num이 nil이면 디폴트(기본값) 0으로 사용
```



## 옵셔널 타입의 응용
---
### 옵셔널 체이닝
	옵셔널 타입으로 선언된 값에 접근하여 하위 속성, 메서드를 사용할 때 접근연산자 앞에 ? 사용
	1. 결과는 항상 옵셔널 타입
	2. 옵셔널 체이닝 과정 중 하나라도 nil을 리턴하면 이어지는 표현식을 평가하지 않고 nil 리턴

```
var choco: Dog? = Dog()

choco?.sit?()?.name
books?["Apple"]?.name
bori?.sit() // bori가 nil이면 nil 반환. nil이 아니면 함수 실행
```

### IUO 타입 (Implicitly Unwrapped Optionals)

```
var name: String! = "타코"
```

	Non-optional 타입의 변수에 저장될 때, 값이 있는 경우 자동으로 값이 추출되어 저장 (굳이 벗기지 않아도 됨)
	스토리보드와 Outlet 연결 시 주로 활용 (IUO 타입이 없다면 개발자 코드에서 옵셔널 체이닝 써야함)
	nil을 할당할 수 있지만, 로직상 항상 값이 있다는 것이 확신 들 때 사용하는 타입

### 함수와 옵셔널 타입

	함수의 파라미터의 타입이 옵셔널일경우, 기본값으로 nil 설정
	함수의 유연한 사용이 가능

```
func doSomePrint(with label: String, name: String? = nil) {
	//
}	

doSomePrint(with: "레이블", name: "타코")
doSomePrint(with: "레이블")
```

